# é€šè¿‡æµè§ˆå™¨æ‰©å±•æ»¡è¶³éƒ¨é•¿éœ€æ±‚
èº«ç»ç™¾æˆ˜çš„é”€å”®åŒäº‹ä»å‰çº¿å¸¦å›æ¥äº†ä¸€ä¸ªéœ€æ±‚ã€‚æˆ‘ä»¬çš„å¤§å±å±•ç¤ºçš„æ—¶å€™ï¼Œè§†å¯Ÿçš„éƒ¨é•¿é¢†å¯¼ä»¬æƒ³çŸ¥é“**å…·ä½“çš„æ”»å‡»
ä¿¡æ¯ï¼Œç‚¹å‡»å¤§å±å¯¹åº”çš„æ”»å‡»éœ€è¦å¼¹å‡ºåˆ°å¯¹åº”çš„è¯¦æƒ…é¡µã€‚å¹¶ä¸”å½“å‰å¤§å±ä¸è¦å—åˆ°å½±å“**ã€‚

    è¿™ä¸ªé—®é¢˜æ€ä¹ˆç­”ï¼Ÿ
    
    JSçš„openæ„ŸçŸ¥ä¸åˆ°ç”µè„‘å¤–æ¥äº†å¤šå°‘å±å¹•ï¼Œå°è¯•äº†ä¸€ä¸‹ä¹Ÿä¸èƒ½æŠŠæ‰“å¼€çš„çª—å£æŠ•åˆ°å…¶ä»–å±å¹•ï¼Œåªèƒ½åœ¨å½“å‰å±å¹•ã€‚
    æ— è®ºæ€ä¹ˆè®¾ç½®open çš„leftï¼Œtopå‚æ•°ï¼Œéƒ½è¢«æµè§ˆå™¨è‡ªåŠ¨å±è”½æ‰ä¸åˆç†çš„å€¼ã€‚ä¾‹å¦‚è®¾ç½®topï¼š-1000ï¼Œå¼¹ä¸è¿‡å»ã€‚
    
    é‚£æ€ä¹ˆåŠå‘¢ï¼Ÿ
    
    
    
##content-script 
å¥½å§ï¼Œåªæœ‰å¯„å‡ºå¤§æ€å™¨äº†ï¼šæ’ä»¶ï¼   
åœ¨content-scripté‡Œé¢æ‰§è¡Œç›‘å¬é¡µé¢çš„æ“ä½œã€‚
content-scriptæ˜¯ä»€ä¹ˆï¼Ÿ
content-sciprt æ˜¯æµè§ˆå™¨æ’ä»¶ä¸‰å¤§ä»¶ä¸­çš„å†…å®¹è„šæœ¬ï¼Œä¸»è¦ç”¨æ¥æ“ä½œdomã€‚ä¹Ÿå°±æ˜¯ä»–å¯ä»¥å’Œæˆ‘ä»¬æ‰“å¼€çš„ç½‘é¡µå…±äº«åŒä¸€ä»½domã€‚
æ‰€ä»¥é€šè¿‡windowï¼Œä»–å¯ä»¥å’Œé¡µé¢é€šä¿¡
    
    window.addEventListener("message", function(event) {
        chrome.runtime.sendMessage(url)
    }ï¼‰
    
    ä¸Šé¢çš„chrome.runtime.sendMessageæ˜¯æ’ä»¶çš„apiï¼Œé€šè¿‡ä»–å¯ä»¥ç»™BackGroundå‘é€æ¶ˆæ¯ã€‚
    
## BackGround

backgroundæ˜¯ä»€ä¹ˆï¼Ÿ

ä»–æ˜¯æµè§ˆå™¨æ’ä»¶çš„èƒŒæ™¯è¿›ç¨‹ã€‚ä»–çš„æƒé™æ¯”è¾ƒé«˜ï¼Œå¯ä»¥è®¿é—®æµè§ˆå™¨å¾ˆå¤šçš„èµ„æºå…¶ä¸­å°±æœ‰chrome.runtime.
ä¸Šä»£ç å§ï¼
    
    function openTopLeftWindow (cfg, callback) {
      getTopLeftWindow(function(bounds){
        chrome.windows.create(Object.assign(bounds, cfg), callback)
      })
    }
    
    chrome.runtime.onMessage.addListener(function (request, sender, sendResponse) {
      openTopLeftWindow({url:request.url}, sendResponse)
    })
    
    
ä¸Šé¢é€šè¿‡chrome.runtime.onMessageæ¥æ”¶åˆ°content-scriptå‘é€çš„æ¶ˆæ¯ã€‚ç„¶åè°ƒç”¨chrome.windows.create
æ‰“å¼€ä¸€ä¸ªæ–°çš„çª—å£ã€‚
getTopLeftWindowæ˜¯ä»€ä¹ˆğŸ‘»ï¼Ÿ

å“ˆå“ˆï¼Œè¿™ä¸ªæ˜¯è·å–æœ€å·¦ç«¯å±å¹•çš„å¥¥ç§˜ã€‚

é€šè¿‡**chrome.system.display.getInfo**è·å–åˆ°å±å¹•ä¿¡æ¯ã€‚ç„¶åæ¥ä¸ªç®—æ³•ç®—å‡ºå·¦ä¸Šè§’çš„å±å¹•ï¼Œå¼€å§‹æŠ•å°„äº†ã€‚



    
    